set(EXECUTABLE_OUTPUT_PATH ${CMAKE_CURRENT_BINARY_DIR})
add_definitions(-DAUTOTEST_DATA_DIR="${CMAKE_CURRENT_SOURCE_DIR}/data")

ecm_add_test(davcollectiontest.cpp
    TEST_NAME davcollection
    NAME_PREFIX "kdav2-"
    LINK_LIBRARIES KPim::KDAV2 Qt5::Test Qt5::Core Qt5::Gui
)

ecm_add_test(davitemtest.cpp
    TEST_NAME davitem
    NAME_PREFIX "kdav2-"
    LINK_LIBRARIES KPim::KDAV2 Qt5::Test Qt5::Core
)

ecm_add_test(davurltest.cpp
    TEST_NAME davurl
    NAME_PREFIX "kdav2-"
    LINK_LIBRARIES KPim::KDAV2 Qt5::Test Qt5::Core
)

ecm_add_test(davitemfetchjobtest.cpp fakeserver.cpp
    TEST_NAME davitemfetchjob
    NAME_PREFIX "kdav2-"
    LINK_LIBRARIES KPim::KDAV2 Qt5::Test Qt5::Core Qt5::Network
)

ecm_add_test(davitemslistjobtest.cpp fakeserver.cpp
    TEST_NAME davitemslistjob
    NAME_PREFIX "kdav2-"
    LINK_LIBRARIES KPim::KDAV2 Qt5::Test Qt5::Core Qt5::Network
)
